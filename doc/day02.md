# 第2日：バグ／不具合の理解と発生メカニズム

昨日は「テストの目的」を学びました。本日は、私たちが戦う相手である**「不具合（バグ）」**を正しく定義し、それがどこからやってくるのかを詳しく見ていきましょう。

## 1. 不具合の定義：3つの呼び分け

専門用語では、不具合をその状態によって3つの言葉で使い分けます。これらを区別することで、問題が「人のミス」なのか「コードの欠陥」なのかを正確に議論できるようになります。

| 用語 | 意味 | 具体例 |
| --- | --- | --- |
| **エラー (Error)** | **人間の行動**。勘違いやミス。 | 開発者が「消費税は10%」を「8%」と思い込んで設計した。 |
| **欠陥 / バグ (Defect / Bug)** | **成果物の中身**。コードや書類の不備。 | プログラム内に「* 0.08」という誤った計算式が書かれている。 |
| **故障 (Failure)** | **動かした結果**。期待通りに動かない事象。 | ユーザーが決済ボタンを押すと、誤った金額が表示される。 |

> **ポイント：** テスターが目撃するのは「故障」ですが、報告すべきは「欠陥（どこが間違っているか）」です。

---

## 2. 不具合発生のメカニズム

なぜ、優秀なエンジニアが作ってもバグは発生するのでしょうか？ 主な要因は以下の3つに分類されます。

### ① コミュニケーションの齟齬

「言った・言わない」や、解釈のズレです。

* **例：** 顧客は「スマホでも見られるように」と言ったが、開発者は「ブラウザで映ればいい」と思い、ボタンが小さすぎて押せない画面を作ってしまった。

### ② 複雑性の増大

現代のシステムは、多くの機能や外部サービス（APIなど）と連携しています。

* **例：** A機能を直したら、全く関係なさそうなB機能が壊れた（デグレード/先祖返り）。

### ③ 時間と環境の制約

* **時間：** 納期が厳しく、十分な確認ができないまま実装を進めた。
* **環境：** 開発環境では再現しないが、ユーザーの古いOSや不安定な通信環境でのみ発生する。

---

## 3. 欠陥検出の重要性（なぜ早く見つけるべきか）

バグを見つけるタイミングが遅れるほど、その修正にかかるコストやリスクは増大します。これを**「負の連鎖」**と呼びます。

| 発見フェーズ | 修正のしやすさ | 影響の大きさ |
| --- | --- | --- |
| **設計段階** | ◎ 非常に容易 | 書類を数行書き直すだけで済む。 |
| **開発段階** | ◯ 比較的容易 | 担当者がコードを書き直して再ビルドする。 |
| **テスト段階** | △ 困難 | 他の機能への影響確認（リグレッションテスト）が必要になる。 |
| **リリース後** | ✕ 絶望的 | データの復旧、謝罪、緊急メンテナンスなど莫大な損害。 |

---

## 4. テスターに求められる「欠陥検出」の視点

不具合を見つける際、以下の3つの視点を持つと、より深いバグに気づくことができます。

1. **「仕様通りか？」の視点：** * 決まったルールから外れていないかを確認する。（守りのテスト）
2. **「ユーザーならどうするか？」の視点：** * 開発者が想定していない「意地悪な操作」や「うっかり操作」を試す。（攻めのテスト）
3. **「そもそもこれで良いのか？」の視点：** * 仕様通りであっても、使いにくかったり矛盾があったりしないかを確認する。（QAの視点）
