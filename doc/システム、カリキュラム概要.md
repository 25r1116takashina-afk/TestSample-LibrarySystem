# 図書管理システム
## 概要
- 講義で利用するサンプルシステムを作成しています。
- Python+Flask+SQLiteで構築する予定です。
- このファイルはテスター研修カリキュラムのメモ書きです。

## 前提情報

### 一貫実技用 準備チェックリスト
| カテゴリ | 準備が必要なもの | 詳細・留意点 |
| --- | --- | --- |
| **1. 題材システム** | **サンプルアプリケーション** | ログイン、検索、登録、更新、削除（CRUD）が一通りできるWebアプリやモック。 |
|  | **既知のバグ（仕込みバグ）** | 演習で検出させるための不具合をあらかじめ5〜10個ほど埋め込んでおく。 |
| **2. 仕様ドキュメント** | **機能要件定義書 / 仕様書** | 「何が正解か」を判断する基準。画面遷移図やバリデーション（桁数・属性）の定義。 |
|  | **DB設計書（ER図・定義書）** | テーブル構造がわかるもの。DB基礎知識を活かして裏側の確認をするために必須。 |
| **3. テスト環境** | **検証用ブラウザ・PC** | Chrome/Edgeなど。開発者ツール（F12）が使える状態にしておく。 |
|  | **DBクライアントツール** | DBeaverやA5:SQL Mk-2など、SQLを発行してテーブルを直接覗ける環境。 |
| **4. ドキュメント雛形** | **テスト観点一覧表** | マインドマップ形式やExcelのリスト形式。 |
|  | **テスト仕様書フォーマット** | ケースNo、手順、期待値、結果、エビデンス欄があるExcelやスプレッドシート。 |
|  | **バグ報告票（BTS）** | Redmine、Jira、または管理用Excel。重要度・再現手順・ログ添付欄があるもの。 |
| **5. 演習用データ** | **テスト用マスターデータ** | 検索やログインを試すための初期データ（ユーザーアカウント、商品データ等）。 |

---

### 図書管理システム：一貫プロジェクト演習詳細

| 日数 | 演習テーマ | 具体的な課題内容（図書管理システムを例に） |
| --- | --- | --- |
| **1** | **仕様理解** | 貸出・返却・検索機能の仕様書を読み、「蔵書0冊の時の挙動」など仕様の穴を探す。 |
| **2** | **バグ分析** | 「ISBNコードが重複登録された」等の過去事例から、データ不整合のパターンを学ぶ。 |
| **3** | **テスト計画** | 検索機能は「利便性」、貸出機能は「データの正確性」など、機能別の重点を定める。 |
| **4** | **観点洗い出し** | **テスト観点の洗い出し**：権限（管理者/一般）、DBロック、通信遅延時の挙動など。 |
| **5** | **設計（基本）** | 貸出延長期限の**境界値**（14日目、15日目など）や、検索文字数の制限をケース化。 |
| **6** | **設計（応用）** | **異常系**：未返却本があるユーザーの退会処理、同時アクセスによる二重貸出など。 |
| **7** | **テスト実行** | **手動テスト実行**：実際に本を借り、SQLで `is_borrowed` フラグが `1` になるか確認。 |
| **8** | **バグ報告** | 検出した不具合を起票。「DBの `UPDATE` 文が失敗している可能性あり」と技術的に報告。 |

---

### 実技用に準備すべき具体的なデータ・仕様

実技をより高度にするために、以下の情報を準備しておくと良いでしょう。

#### 1. データベースの構成（既習知識の活用）

* **Books（蔵書）テーブル**: `book_id`, `title`, `isbn`, `stock_count`
* **Users（利用者）テーブル**: `user_id`, `name`, `status（有効/停止）`
* **Loans（貸出管理）テーブル**: `loan_id`, `book_id`, `user_id`, `return_deadline`

#### 2. 仕込みバグの例（これを見つけるのが実技のゴール）

* **境界値バグ**: 最大貸出冊数「5冊」のとき、6冊目が借りられてしまう。
* **データ不整合**: 本を削除しても、貸出履歴（Loansテーブル）のレコードが消えずにエラーになる。
* **ロジックミス**: 返却期限の計算が「土日祝」を考慮しておらず、返却不可日に設定される。

#### 3. テスト用の異常系シナリオ

* 貸出中にその本の「在庫数」を管理画面から 0 に変更した際に、返却処理が正常にできるか。
* SQLインジェクションを意識した、検索窓への特殊文字入力。

---

テスト観点サンプルも作成したいです。

### 8日間・一貫プロジェクト型カリキュラム

| 日数 | 午前：座学 (3h) | 午後：一貫実技演習 (3h) |
| --- | --- | --- |
| **第1日** | **テストの基礎とQAの本質** | **【現状分析】** 対象システムの仕様書を読み込み、潜んでいる不備やリスクを指摘する。 |
| **第2日** | **テスト工程と分類** | **【計画】** テストの優先順位を決定し、「何をどこまでテストするか」の範囲を定義する。 |
| **第3日** | **テスト技法①（論理的抽出）** | **【詳細設計①】** 計算ロジックや入力フォームに対し、境界値・同等分割を適用してパターンを網羅する。 |
| **第4日** | **テスト技法②（組み合わせ）** | **【詳細設計②】** 会員ランクや支払い方法などの複雑な条件をデシジョンテーブルにまとめ、矛盾を排除する。 |
| **第5日** | **テスト設計と観点** | **【テスト仕様書作成】** 3〜4日目の内容を、誰でも実行できる「テストケース」としてドキュメント化する。 |
| **第6日** | **テスト実行と不具合報告** | **【テスト実行】** 作成したケースを実行。バグを見つけ、開発者が即修正できるレベルのバグ票を起票する。 |
| **第7日** | **エンジニアリングテスト** | **【DB・API検証】** DBに直接SQLを投げてデータ不整合を確認し、裏側まで含めたエビデンスを収集する。 |
| **第8日** | **総括と報告** | **【最終報告書】** 検出されたバグの傾向を分析し、「このシステムはリリース可能か」の判断理由を報告する。 |

---

